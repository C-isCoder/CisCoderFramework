apply plugin: 'com.android.library'
apply plugin: 'me.tatarka.retrolambda'
apply plugin: 'android-apt'
apply plugin: 'maven'

android {
    compileSdkVersion 22
    buildToolsVersion "22.0.1"
    lintOptions {
        abortOnError false
    }
    defaultConfig {
        minSdkVersion 14
        versionCode 1
        versionName "1.0.0"
    }
    //java 8
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    sourceSets {
        main {
            manifest.srcFile 'AndroidManifest.xml'
            java.srcDirs = ['src']
            resources.srcDirs = ['src']
            aidl.srcDirs = ['src']
            renderscript.srcDirs = ['src']
            res.srcDirs = ['res']
            assets.srcDirs = ['assets']
        }
        instrumentTest.setRoot('tests')
        debug.setRoot('build-types/debug')
        release.setRoot('build-types/release')
    }
}
dependencies {
    compile fileTree(include: '*.jar', dir: 'libs')
    compile 'com.jakewharton:butterknife:8.4.0'//注解
    compile 'com.github.bumptech.glide:glide:3.7.0'//图片加载
    compile 'org.greenrobot:eventbus:3.0.0'//EventBus
    compile 'de.hdodenhof:circleimageview:2.1.0'//圆形图片
    compile 'com.github.orangegangsters:swipy:1.1.0@aar'//下拉刷新
    compile 'com.baoyz.swipemenulistview:library:1.3.0'//侧滑删除
    compile 'com.umeng.analytics:analytics:latest.integration'//友盟统计
    compile 'com.android.support:recyclerview-v7:22.2.1'
    compile 'com.squareup.retrofit2:retrofit:2.1.0'//网络请求
    compile 'com.squareup.retrofit2:converter-gson:2.0.0'//JSON解析
    compile 'com.squareup.okhttp3:okhttp-urlconnection:3.2.0'//网络请求
    compile 'com.squareup.retrofit2:adapter-rxjava:2.1.0'//RxJava
    compile 'io.reactivex:rxandroid:1.2.1'//RxAndroid
    compile 'com.squareup.okhttp3:logging-interceptor:3.3.1'//网络请求拦截器
    compile 'com.github.promeg:tinypinyin:1.0.0'//拼音转换
    compile 'com.github.ybq:Android-SpinKit:1.0.5'//加载圈
    apt 'com.jakewharton:butterknife-compiler:8.4.0'//注解
    compile 'top.zibin:Luban:1.0.9'//鲁班图片压缩
}
uploadArchives {
    configuration = configurations.archives
    repositories {
        mavenDeployer {
            snapshotRepository(url: 'http://svn.weiidu.com:8081/nexus/content/repositories/snapshots/') {
                authentication(userName: 'admin', password: 'bcadmin')
            }
            repository(url: 'http://svn.weiidu.com:8081/nexus/content/repositories/android/') {
                authentication(userName: 'admin', password: 'bcadmin')
            }
            pom.project {
                version '1.0.0'
                artifactId 'library'
                groupId 'com.baichang.android'
                packaging 'aar'
                description 'android library lib'
            }
        }
    }
}

artifacts {
    archives file('library.aar')
}
